<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>å£ã‚³ãƒŸã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆï¼ˆå®Œå…¨ç‰ˆï¼‰</title>
  <link rel="stylesheet" href="style.css">
  <script src="phrases.js"></script>
  <style>
    body {
      font-family: sans-serif;
      background: var(--bg-color, #f9f9f9);
      padding: 1em;
    }
    .box {
      background: var(--light-bg, #fff);
      border: 1px solid var(--border-color, #ccc);
      border-radius: 12px;
      padding: 1em;
      margin: 1.2em auto;
      max-width: 600px;
    }
    .section-note {
      font-size: 0.9em;
      color: #666;
      text-align: center;
      margin-top: -0.5em;
    }
    h3 {
      text-align: center;
    }
    .form-input {
      width: 100%;
      padding: 0.6em;
      margin: 0.5em 0;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 1rem;
      box-sizing: border-box;
    }
    .button-row {
      display: flex;
      gap: 1em;
      flex-wrap: wrap;
      justify-content: center;
      margin-top: 1em;
    }
    .button {
      background: var(--main-color, #333);
      color: white;
      padding: 0.5em 1em;
      border-radius: 8px;
      border: none;
      cursor: pointer;
    }
    .tone-option {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 0.5em;
  cursor: pointer;
  width: 90px;
  flex-shrink: 0;
}
    .tone-option img {
      width: 72px;
      height: 72px;
      border-radius: 50%;
      border: 2px solid transparent;
      transition: 0.2s ease;
    }
    .tone-option img:hover {
      transform: scale(1.08);
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    }
    .tone-option input:checked + img {
      border-color: var(--accent-color, #000);
      box-shadow: 0 0 6px var(--accent-color, #000);
    }
      .tone-style-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1em;
    }
    .tone-style-buttons .tone-option {
      width: 90px;
      flex-shrink: 0;
      text-align: center;
    }

</head>
<body>

<div class="box" style="text-align: center;">
  <h2 style="margin-bottom: 0.5em;">å£ã‚³ãƒŸã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆ</h2>
  <img src="Assistant.png" style="width: 120px; height: auto; border-radius: 16px; margin-bottom: 1em;">
  <div class="box" style="font-size: 0.95em; color: var(--text-color);">
    ã‚ãªãŸã®æƒ³ã„ã‚’<br>å„ªã—ã„è¨€è‘‰ã§ç´¡ãã¾ã™ã€‚
  </div>
  <div class="button-row" style="margin-top: 1em;">
    <button class="button" id="editButton" onclick="toggleEdit(true)">âœ ç·¨é›†ã™ã‚‹</button>
    <button class="button" id="lockButton" onclick="toggleEdit(false)">ğŸ”’ ãƒ­ãƒƒã‚¯ã™ã‚‹</button>
  </div>
</div>

<div class="box">
  <h3>åº—èˆ—å</h3>
  <p class="section-note">åº—èˆ—åã‚’è¨˜å…¥ğŸª</p>
  <input type="text" id="shopName" class="form-input" placeholder="åº—èˆ—åã‚’å…¥åŠ›">
</div>

<div class="box">
  <h3>ã‚¹ã‚¿ãƒƒãƒ•å</h3>
  <p class="section-note">æ‹…å½“ã‚¹ã‚¿ãƒƒãƒ•åã‚’å…¥åŠ›ğŸ§‘â€ğŸ¤â€ğŸ§‘</p>
  <div id="staff-container">
    <input type="text" class="form-input" placeholder="ã‚¹ã‚¿ãƒƒãƒ•åã‚’å…¥åŠ›">
  </div>
  <div class="button-row">
    <button class="button" onclick="addStaff()">ï¼‹ ã‚¹ã‚¿ãƒƒãƒ•ã‚’è¿½åŠ </button>
    <button class="button" onclick="resetStaff()">ãƒªã‚»ãƒƒãƒˆ</button>
  </div>
</div>

<div class="box">
  <h3>ã‚³ãƒ¼ã‚¹åãƒ»å•†å“å</h3>
  <p class="section-note">ã‚³ãƒ¼ã‚¹åã¾ãŸã¯å•†å“åã‚’å…¥åŠ›ğŸ›ï¸</p>
  <div id="course-container">
    <input type="text" class="form-input" placeholder="ã‚³ãƒ¼ã‚¹åã‚’å…¥åŠ›">
  </div>
  <div class="button-row">
    <button class="button" onclick="addCourse()">ï¼‹ ã‚³ãƒ¼ã‚¹ã‚’è¿½åŠ </button>
    <button class="button" onclick="resetCourse()">ãƒªã‚»ãƒƒãƒˆ</button>
  </div>
</div>

<div class="box">
  <h3>æ„Ÿæƒ³ãƒ¯ãƒ¼ãƒ‰</h3>
  <p class="section-note">æ„Ÿæƒ³ã«ä½¿ã†ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ğŸ’¬</p>
  <div id="comment-container">
    <input type="text" class="form-input" placeholder="æ„Ÿæƒ³ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›">
  </div>
  <div class="button-row">
    <button class="button" onclick="addComment()">ï¼‹ æ„Ÿæƒ³ã‚’è¿½åŠ </button>
    <button class="button" onclick="resetComment()">ãƒªã‚»ãƒƒãƒˆ</button>
  </div>
</div>

<div class="box">
  <h3>å£ã‚³ãƒŸãƒªãƒ³ã‚¯</h3>
  <p class="section-note">Googleã‚„HPã®ãƒªãƒ³ã‚¯ã‚’å…¥åŠ›ğŸ”—</p>
  <input type="text" class="form-input" placeholder="Googleãƒãƒƒãƒ—URLã‚’å…¥åŠ›">
</div>

<div class="box">
  <h3>SNSãƒªãƒ³ã‚¯</h3>
  <p class="section-note">SNSã®URLã‚’å…¥åŠ›ğŸŒ</p>
  <div id="sns-container">
    <input type="text" class="form-input" placeholder="SNSãƒªãƒ³ã‚¯ã‚’å…¥åŠ›">
  </div>
  <div class="button-row">
    <button class="button" onclick="addSNS()">ï¼‹ SNSãƒªãƒ³ã‚¯ã‚’è¿½åŠ </button>
    <button class="button" onclick="resetSNS()">ãƒªã‚»ãƒƒãƒˆ</button>
  </div>
</div>

<div class="box">
  <h3>ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼</h3>
  <p class="section-note">ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒã‚’é¸æŠğŸ¨</p>
  <div class="button-row">
    <button class="button" onclick="setColors('#5e35b1', '#311b92', '#ede7f6', '#f3eaff', '#b39ddb')">ãƒ©ãƒ™ãƒ³ãƒ€ãƒ¼</button>
    <button class="button" onclick="setColors('#6d4c41', '#3e2723', '#f5f5f5', '#f0e4dc', '#8d6e63')">ãƒ–ãƒ©ã‚¦ãƒ³</button>
    <button class="button" onclick="setColors('#388e3c', '#1b5e20', '#f1f8e9', '#e4f2e6', '#66bb6a')">ã‚°ãƒªãƒ¼ãƒ³</button>
    <button class="button" onclick="setColors('#1976d2', '#0d47a1', '#e3f2fd', '#d6eafd', '#42a5f5')">ãƒ–ãƒ«ãƒ¼</button>
  </div>
</div>

<div class="box">
  <h3>æ€§åˆ¥ã‚¹ã‚¿ã‚¤ãƒ«</h3>
  <p class="section-note">è©±ã—æ‰‹ã®æ€§åˆ¥ã‚’é¸æŠğŸš»</p>
  <div class="button-row">
    <label class="tone-option">
      <input type="checkbox" name="gender" value="ç”·æ€§" hidden>
      <img src="male.png" alt="ç”·æ€§">
      <span>ç”·æ€§</span>
    </label>
    <label class="tone-option">
      <input type="checkbox" name="gender" value="å¥³æ€§" hidden>
      <img src="female.png" alt="å¥³æ€§">
      <span>å¥³æ€§</span>
    </label>
    <label class="tone-option">
      <input type="checkbox" name="gender" value="ä¸­æ€§" hidden>
      <img src="natural.png" alt="ä¸­æ€§">
      <span>ä¸­æ€§</span>
    </label>
  </div>
</div>

<div class="box">
  <h3>è©±ã—æ–¹ã‚¹ã‚¿ã‚¤ãƒ«</h3>
  <p class="section-note">å£ã‚³ãƒŸã®è©±ã—æ–¹ã‚¹ã‚¿ã‚¤ãƒ«ã‚’é¸æŠğŸ—£ï¸</p>
  <div class="button-row tone-style-buttons">
    <label class="tone-option">
      <input type="checkbox" name="tone" value="æ•¬èª" hidden>
      <img src="teinei.png" alt="æ•¬èª">
      <span>æ•¬èª</span>
    </label>
    <label class="tone-option">
      <input type="checkbox" name="tone" value="ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«" hidden>
      <img src="casual.png" alt="ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«">
      <span>ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«</span>
    </label>
    <label class="tone-option">
      <input type="checkbox" name="tone" value="ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼" hidden>
      <img src="friendly.png" alt="ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼">
      <span>ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼</span>
    </label>
  </div>
</div>

<div class="box">
  <div class="button-row">
    <button class="button" onclick="saveToLocal()">ğŸ’¾ ä¿å­˜ã™ã‚‹</button>
    <button class="button" onclick="loadFromLocal()">ğŸ“‚ èª­ã¿è¾¼ã‚€</button>
    <button class="button" onclick="generatePreviewURL()">âœ¨ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ç”Ÿæˆ</button>
  </div>
</div>

<script>
function toggleEdit(state) {
  const isLocked = !state;
  const inputs = document.querySelectorAll('.form-input, input[type="radio"]');
  inputs.forEach(input => input.disabled = isLocked);

  const buttons = document.querySelectorAll('.button-row button');
  buttons.forEach(btn => {
    if (!btn.id || (btn.id !== 'editButton' && btn.id !== 'lockButton')) {
      btn.disabled = isLocked;
      btn.style.opacity = isLocked ? '0.5' : '1';
    }
  });

  const editBtn = document.getElementById('editButton');
  const lockBtn = document.getElementById('lockButton');
  if (state) {
    editBtn.style.background = 'var(--accent-color)';
    editBtn.style.color = '#fff';
    lockBtn.style.background = '#ccc';
    lockBtn.style.color = '#000';
  } else {
    lockBtn.style.background = 'var(--accent-color)';
    lockBtn.style.color = '#fff';
    editBtn.style.background = '#ccc';
    editBtn.style.color = '#000';
  }
  editBtn.disabled = state;
  lockBtn.disabled = !state;
}

function setColors(main, accent, bg, light, border) {
  document.documentElement.style.setProperty('--main-color', main);
  document.documentElement.style.setProperty('--accent-color', accent);
  document.documentElement.style.setProperty('--bg-color', bg);
  document.documentElement.style.setProperty('--light-bg', light);
  document.documentElement.style.setProperty('--border-color', border);
}

function addStaff() {
  const c = document.getElementById('staff-container');
  const i = document.createElement('input');
  i.className = 'form-input';
  i.placeholder = 'ã‚¹ã‚¿ãƒƒãƒ•åã‚’å…¥åŠ›';
  c.appendChild(i);
}
function resetStaff() {
  const c = document.getElementById('staff-container');
  c.innerHTML = '<input type="text" class="form-input" placeholder="ã‚¹ã‚¿ãƒƒãƒ•åã‚’å…¥åŠ›">';
}
function addCourse() {
  const c = document.getElementById('course-container');
  const i = document.createElement('input');
  i.className = 'form-input';
  i.placeholder = 'ã‚³ãƒ¼ã‚¹åã‚’å…¥åŠ›';
  c.appendChild(i);
}
function resetCourse() {
  const c = document.getElementById('course-container');
  c.innerHTML = '<input type="text" class="form-input" placeholder="ã‚³ãƒ¼ã‚¹åã‚’å…¥åŠ›">';
}
function addComment() {
  const c = document.getElementById('comment-container');
  const i = document.createElement('input');
  i.className = 'form-input';
  i.placeholder = 'æ„Ÿæƒ³ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›';
  c.appendChild(i);
}
function resetComment() {
  const c = document.getElementById('comment-container');
  c.innerHTML = '<input type="text" class="form-input" placeholder="æ„Ÿæƒ³ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›">';
}
function addSNS() {
  const c = document.getElementById('sns-container');
  const i = document.createElement('input');
  i.className = 'form-input';
  i.placeholder = 'SNSãƒªãƒ³ã‚¯ã‚’å…¥åŠ›';
  c.appendChild(i);
}
function resetSNS() {
  const c = document.getElementById('sns-container');
  c.innerHTML = '<input type="text" class="form-input" placeholder="SNSãƒªãƒ³ã‚¯ã‚’å…¥åŠ›">';
}
function saveToLocal() {
  const data = {
    shopName: document.getElementById('shopName').value,
    staff: Array.from(document.querySelectorAll('#staff-container input')).map(e => e.value),
    courses: Array.from(document.querySelectorAll('#course-container input')).map(e => e.value),
    comments: Array.from(document.querySelectorAll('#comment-container input')).map(e => e.value),
    sns: Array.from(document.querySelectorAll('#sns-container input')).map(e => e.value),
    tone: Array.from(document.querySelectorAll('input[name="tone"]:checked')).map(e => e.value),
    gender: Array.from(document.querySelectorAll('input[name="gender"]:checked')).map(e => e.value)
  };
  localStorage.setItem('reviewForm', JSON.stringify(data));
  alert('ä¿å­˜ã—ã¾ã—ãŸ');
}
function loadFromLocal() {
  const data = JSON.parse(localStorage.getItem('reviewForm') || '{}');
  document.getElementById('shopName').value = data.shopName || '';
  function loadInputs(containerId, values) {
    const c = document.getElementById(containerId);
    c.innerHTML = '';
    (values || ['']).forEach(v => {
      const i = document.createElement('input');
      i.className = 'form-input';
      i.value = v;
      c.appendChild(i);
    });
  }
  loadInputs('staff-container', data.staff);
  loadInputs('course-container', data.courses);
  loadInputs('comment-container', data.comments);
  loadInputs('sns-container', data.sns);
  if (data.tone && Array.isArray(data.tone)) {
  data.tone.forEach(val => {
    const t = document.querySelector(`input[name="tone"][value="${val}"]`);
    if (t) t.checked = true;
  });
}

if (data.gender && Array.isArray(data.gender)) {
  data.gender.forEach(val => {
    const g = document.querySelector(`input[name="gender"][value="${val}"]`);
    if (g) g.checked = true;
  });
}
  alert('èª­ã¿è¾¼ã¿ã¾ã—ãŸ');
}
function generatePreviewURL() {
  const data = {
    shopName: document.getElementById('shopName').value,
    staff: Array.from(document.querySelectorAll('#staff-container input')).map(e => e.value),
    courses: Array.from(document.querySelectorAll('#course-container input')).map(e => e.value),
    comments: Array.from(document.querySelectorAll('#comment-container input')).map(e => e.value),
    sns: Array.from(document.querySelectorAll('#sns-container input')).map(e => e.value),
   tone: Array.from(document.querySelectorAll('input[name="tone"]:checked')).map(e => e.value),
gender: Array.from(document.querySelectorAll('input[name="gender"]:checked')).map(e => e.value)

  };
  const encoded = btoa(encodeURIComponent(JSON.stringify(data)));
  const url = `review.html?data=${encoded}`;
  window.open(url, '_blank');
}
</script>

</body>
</html>
